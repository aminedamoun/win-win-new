/* ============================================================
   WIN WIN CMS — Dark UI Theme
   Targets Netlify CMS v2 (React, emotion-based class names)
   SAFE: CSS only, no JS, no backend/config overrides
   ============================================================ */

/* ── Google Font ─────────────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* ── CSS Variables ───────────────────────────────────────── */
:root {
  --bg:        #0f172a;
  --surface:   #1e293b;
  --surface2:  #263347;
  --border:    #334155;
  --accent:    #f97316;
  --accent-h:  #fb923c;
  --text:      #ffffff;
  --text-muted:#94a3b8;
  --radius:    14px;
  --radius-sm: 8px;
  --shadow:    0 4px 24px rgba(0,0,0,0.35);
  --shadow-sm: 0 2px 10px rgba(0,0,0,0.25);
  --transition:0.18s ease;
}

/* ── Global reset / base ─────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
}

body,
#nc-root,
[class*="App__"],
[class*="AppWrapper"] {
  font-family: 'Inter', sans-serif !important;
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* ── Top navigation bar ──────────────────────────────────── */
[class*="Navbar__"],
[class*="AppHeader"],
header[class*="css-"] {
  background: var(--surface) !important;
  border-bottom: 1px solid var(--border) !important;
  box-shadow: var(--shadow-sm) !important;
}

[class*="Navbar__"] a,
[class*="Navbar__"] button,
[class*="AppHeader"] a,
[class*="AppHeader"] button {
  color: var(--text-muted) !important;
  font-weight: 500 !important;
  transition: color var(--transition) !important;
}

[class*="Navbar__"] a:hover,
[class*="Navbar__"] button:hover,
[class*="AppHeader"] a:hover,
[class*="AppHeader"] button:hover {
  color: var(--accent) !important;
}

/* ── Left sidebar ────────────────────────────────────────── */
[class*="SidebarNavLink"],
[class*="CollectionNav"] a,
nav[class*="css-"] a {
  color: var(--text-muted) !important;
  border-radius: var(--radius-sm) !important;
  padding: 8px 14px !important;
  display: block !important;
  transition: background var(--transition), color var(--transition) !important;
  text-decoration: none !important;
}

[class*="SidebarNavLink"]:hover,
[class*="CollectionNav"] a:hover,
nav[class*="css-"] a:hover,
[class*="SidebarNavLink--isActive"],
[class*="SidebarNavLink"][class*="active"] {
  background: var(--surface2) !important;
  color: var(--accent) !important;
}

/* ── Collection / list page ──────────────────────────────── */
[class*="CollectionHeader"],
[class*="ViewControls"] {
  background: transparent !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 16px 24px !important;
}

[class*="CollectionPage"],
[class*="WorkflowList"],
[class*="EntriesPanel"] {
  background: var(--bg) !important;
}

/* Entry cards in list view */
[class*="EntryCard"],
[class*="ListCard"],
div[class*="css-"][role="button"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow-sm) !important;
  color: var(--text) !important;
  transition: border-color var(--transition), box-shadow var(--transition) !important;
}

[class*="EntryCard"]:hover,
[class*="ListCard"]:hover {
  border-color: var(--accent) !important;
  box-shadow: 0 4px 20px rgba(249,115,22,0.15) !important;
}

/* ── Editor container ─────────────────────────────────────── */
[class*="EditorContainer"],
[class*="EditorInterface"],
[class*="Editor__"] {
  background: var(--bg) !important;
}

/* Expand the left control pane so it fills more width */
[class*="ControlPaneContainer"],
[class*="ControlPane"],
[class*="EditorControlPane"] {
  min-width: 420px !important;
  background: var(--bg) !important;
}

/* Preview pane background */
[class*="PreviewPaneContainer"],
[class*="PreviewPane"],
[class*="EditorPreviewPane"] {
  background: #ffffff !important;
}

/* Editor toolbar */
[class*="EditorToolbar"],
[class*="ToolbarContainer"] {
  background: var(--surface) !important;
  border-bottom: 1px solid var(--border) !important;
  box-shadow: var(--shadow-sm) !important;
}

[class*="EditorToolbar"] button,
[class*="ToolbarContainer"] button {
  color: var(--text-muted) !important;
  border-radius: var(--radius-sm) !important;
  transition: background var(--transition), color var(--transition) !important;
}

[class*="EditorToolbar"] button:hover,
[class*="ToolbarContainer"] button:hover {
  background: var(--surface2) !important;
  color: var(--accent) !important;
}

/* ── Object widget cards (EN / SL / Settings blocks) ─────── */
[class*="ObjectControl"],
[class*="ObjectWidget"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  padding: 20px 18px !important;
  margin-bottom: 20px !important;
  box-shadow: var(--shadow) !important;
  position: relative !important;
  overflow: visible !important;
}

/* Accent left stripe on object cards */
[class*="ObjectControl"]::before,
[class*="ObjectWidget"]::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 3px !important;
  background: var(--accent) !important;
  border-radius: var(--radius) 0 0 var(--radius) !important;
}

/* Object card header label */
[class*="ObjectControl"] > [class*="ControlHeader"],
[class*="ObjectWidget"] > [class*="ControlHeader"] {
  font-size: 13px !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.08em !important;
  color: var(--accent) !important;
  margin-bottom: 20px !important;
  padding-bottom: 12px !important;
  border-bottom: 1px solid var(--border) !important;
}

/* ── Field wrapper ────────────────────────────────────────── */
[class*="FieldWrapper"],
[class*="Field__"],
[class*="ControlContainer"] {
  background: var(--surface2) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  padding: 12px 14px !important;
  margin-bottom: 12px !important;
  transition: border-color var(--transition), box-shadow var(--transition) !important;
}

[class*="FieldWrapper"]:hover,
[class*="Field__"]:hover,
[class*="ControlContainer"]:hover {
  border-color: #4a6080 !important;
  box-shadow: 0 0 0 3px rgba(249,115,22,0.06) !important;
}

[class*="FieldWrapper"]:focus-within,
[class*="Field__"]:focus-within,
[class*="ControlContainer"]:focus-within {
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(249,115,22,0.12) !important;
}

/* ── Labels ──────────────────────────────────────────────── */
[class*="FieldLabel"],
[class*="ControlLabel"],
label[class*="css-"] {
  font-size: 12px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.06em !important;
  color: var(--text-muted) !important;
  margin-bottom: 8px !important;
  display: block !important;
}

/* ── Text inputs, textareas, selects ─────────────────────── */
[class*="nc-root"] input[type="text"],
[class*="nc-root"] input[type="email"],
[class*="nc-root"] input[type="url"],
[class*="nc-root"] input[type="number"],
[class*="nc-root"] textarea,
[class*="nc-root"] select,
#nc-root input[type="text"],
#nc-root input[type="email"],
#nc-root input[type="url"],
#nc-root input[type="number"],
#nc-root textarea,
#nc-root select,
input[class*="css-"],
textarea[class*="css-"],
select[class*="css-"],
[class*="TextControl"],
[class*="StringControl"],
[class*="TextAreaControl"] {
  background: var(--bg) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  padding: 10px 14px !important;
  font-family: 'Inter', sans-serif !important;
  font-size: 14px !important;
  width: 100% !important;
  transition: border-color var(--transition), box-shadow var(--transition) !important;
  outline: none !important;
}

input[class*="css-"]:focus,
textarea[class*="css-"]:focus,
select[class*="css-"]:focus,
#nc-root input:focus,
#nc-root textarea:focus,
#nc-root select:focus {
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(249,115,22,0.15) !important;
}

input[class*="css-"]::placeholder,
textarea[class*="css-"]::placeholder,
#nc-root input::placeholder,
#nc-root textarea::placeholder {
  color: #4a5568 !important;
}

/* ── Boolean toggle ──────────────────────────────────────── */
[class*="ToggleBackground"] {
  background: var(--border) !important;
  border-radius: 999px !important;
}

[class*="ToggleBackground"][class*="checked"],
[class*="ToggleBackground"][aria-checked="true"] {
  background: var(--accent) !important;
}

/* ── List widget ─────────────────────────────────────────── */
[class*="ListWidget"],
[class*="ListControl"],
[class*="SortableList"] {
  background: var(--bg) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  padding: 12px !important;
  margin-top: 6px !important;
}

/* Individual list items */
[class*="ListItem"],
[class*="SortableItem"],
[class*="ListItemTopBar"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  margin-bottom: 10px !important;
  transition: border-color var(--transition) !important;
}

[class*="ListItem"]:hover,
[class*="SortableItem"]:hover {
  border-color: var(--accent) !important;
}

/* List drag handle */
[class*="DragHandle"],
[class*="StyledListDragIcon"] {
  color: var(--border) !important;
  cursor: grab !important;
  transition: color var(--transition) !important;
}

[class*="DragHandle"]:hover,
[class*="StyledListDragIcon"]:hover {
  color: var(--accent) !important;
}

/* Add item button */
[class*="ListItemAdd"],
[class*="AddButton"] {
  background: transparent !important;
  border: 1px dashed var(--border) !important;
  border-radius: var(--radius-sm) !important;
  color: var(--text-muted) !important;
  width: 100% !important;
  padding: 10px !important;
  text-align: center !important;
  cursor: pointer !important;
  transition: border-color var(--transition), color var(--transition) !important;
}

[class*="ListItemAdd"]:hover,
[class*="AddButton"]:hover {
  border-color: var(--accent) !important;
  color: var(--accent) !important;
}

/* ── Buttons ─────────────────────────────────────────────── */
button[class*="css-"],
[class*="Button__"],
[class*="StyledButton"] {
  font-family: 'Inter', sans-serif !important;
  font-weight: 600 !important;
  border-radius: var(--radius-sm) !important;
  transition: background var(--transition), color var(--transition), transform 0.1s !important;
  cursor: pointer !important;
}

/* Primary / save button */
button[class*="css-"][type="submit"],
[class*="Button__primary"],
[class*="SaveButton"] {
  background: var(--accent) !important;
  color: #fff !important;
  border: none !important;
  padding: 10px 22px !important;
}

button[class*="css-"][type="submit"]:hover,
[class*="Button__primary"]:hover,
[class*="SaveButton"]:hover {
  background: var(--accent-h) !important;
  transform: translateY(-1px) !important;
}

/* Secondary buttons */
button[class*="css-"]:not([type="submit"]),
[class*="Button__secondary"] {
  background: var(--surface2) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--border) !important;
}

button[class*="css-"]:not([type="submit"]):hover,
[class*="Button__secondary"]:hover {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--accent) !important;
}

/* Delete / danger */
[class*="DeleteButton"],
button[class*="css-"][title*="Delete"],
button[class*="css-"][aria-label*="delete"] {
  background: transparent !important;
  color: #ef4444 !important;
  border-color: #ef4444 !important;
}

[class*="DeleteButton"]:hover {
  background: rgba(239,68,68,0.1) !important;
}

/* ── Markdown editor ─────────────────────────────────────── */
[class*="MarkdownControl"],
[class*="EditorWrapper"],
.prose-editor,
[class*="markdown-body"] {
  background: var(--bg) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
}

[class*="MarkdownToolbar"],
[class*="EditorActions"] {
  background: var(--surface) !important;
  border-bottom: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) var(--radius-sm) 0 0 !important;
}

[class*="MarkdownToolbar"] button {
  color: var(--text-muted) !important;
  border-radius: 4px !important;
}

[class*="MarkdownToolbar"] button:hover {
  background: var(--surface2) !important;
  color: var(--accent) !important;
}

/* ── Datetime picker ─────────────────────────────────────── */
[class*="DateTimeControl"],
[class*="DateControl"],
.rdtPicker {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}

.rdtPicker td.rdtActive,
.rdtPicker td.rdtToday::before {
  background: var(--accent) !important;
}

.rdtPicker td:hover {
  background: var(--surface2) !important;
}

/* ── Image preview for image / imageUrl / backgroundImage ── */
/*
   Netlify CMS renders string fields; we show a preview
   for inputs whose id/name contains these keywords via
   adjacent sibling CSS. Works when CMS places input then
   renders the value as a subsequent element OR we use a
   CSS-only approach on the input's container.
*/

[class*="FieldWrapper"]:has(input[id*="image"]),
[class*="FieldWrapper"]:has(input[id*="imageUrl"]),
[class*="FieldWrapper"]:has(input[id*="backgroundImage"]),
[class*="ControlContainer"]:has(input[id*="image"]),
[class*="ControlContainer"]:has(input[id*="imageUrl"]),
[class*="ControlContainer"]:has(input[id*="backgroundImage"]) {
  display: flex !important;
  flex-direction: column !important;
  gap: 10px !important;
}

/* Preview image (the img tag that Netlify CMS itself renders
   inside image widget previews) */
[class*="ImageWidgetPhoto"],
[class*="ImagePreview"] img,
[class*="PreviewImage"],
img[class*="cms-image-preview"] {
  max-width: 150px !important;
  max-height: 100px !important;
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  object-fit: cover !important;
  margin-top: 8px !important;
  box-shadow: var(--shadow-sm) !important;
}

/* Generic: any img rendered inside a FieldWrapper */
[class*="FieldWrapper"] img,
[class*="ControlContainer"] img {
  max-width: 150px !important;
  border-radius: var(--radius-sm) !important;
  border: 1px solid var(--border) !important;
  display: block !important;
  margin-top: 8px !important;
}

/* ── Scrollbar ───────────────────────────────────────────── */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border) var(--bg);
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent);
}

/* ── Toast / notification ────────────────────────────────── */
[class*="Toast"],
[class*="Notification"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}

/* ── Dropdown menus ──────────────────────────────────────── */
[class*="Dropdown"],
[class*="MenuList"],
[role="listbox"],
[role="menu"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  box-shadow: var(--shadow) !important;
  color: var(--text) !important;
}

[class*="Dropdown"] li,
[class*="MenuList"] li,
[role="option"],
[role="menuitem"] {
  color: var(--text-muted) !important;
  padding: 8px 14px !important;
  transition: background var(--transition), color var(--transition) !important;
}

[class*="Dropdown"] li:hover,
[class*="MenuList"] li:hover,
[role="option"]:hover,
[role="menuitem"]:hover {
  background: var(--surface2) !important;
  color: var(--accent) !important;
}

/* ── Modal / overlay ─────────────────────────────────────── */
[class*="ModalContainer"],
[class*="Dialog"],
[role="dialog"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow) !important;
  color: var(--text) !important;
}

[class*="ModalBackdrop"],
[class*="Overlay"] {
  background: rgba(0,0,0,0.6) !important;
  backdrop-filter: blur(4px) !important;
}

/* ── Search / filter bar ─────────────────────────────────── */
[class*="SearchInput"],
[class*="FilterInput"] {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-sm) !important;
  color: var(--text) !important;
  padding: 8px 14px !important;
}

[class*="SearchInput"]:focus,
[class*="FilterInput"]:focus {
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(249,115,22,0.12) !important;
}

/* ── Breadcrumb / page title ─────────────────────────────── */
[class*="PageTitle"],
[class*="BreadCrumb"],
h1[class*="css-"],
h2[class*="css-"] {
  color: var(--text) !important;
  font-weight: 700 !important;
}

/* ── General link colors ─────────────────────────────────── */
a[class*="css-"] {
  color: var(--accent) !important;
  text-decoration: none !important;
}

a[class*="css-"]:hover {
  color: var(--accent-h) !important;
  text-decoration: underline !important;
}

/* ── Error states ────────────────────────────────────────── */
[class*="FieldError"],
[class*="ValidationError"],
[class*="Error__"] {
  color: #f87171 !important;
  font-size: 12px !important;
  margin-top: 4px !important;
}

[class*="FieldWrapper"][class*="error"],
[class*="ControlContainer"][class*="error"] {
  border-color: #ef4444 !important;
}
